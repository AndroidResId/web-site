general:
  branches:
    only:
      - master

dependencies:
  override:
    - npm install -g npm@latest
    - rm -rf node_modules
    - npm install
    - npm install -g firebase-tools gulp bower mocha
    - npm start

deployment:
  production:
    branch: master
    commands:
      - firebase use androidresid --token "$FIREBASE_TOKEN"
      - firebase deploy --token "$FIREBASE_TOKEN --non-interactive
